{% extends 'base.html' %}

{% block head %}

    {{super()}}
{% endblock %}
{% block content %}
    <button class="btn-sm btn-primary mb-2" onclick="toggleFiltersDisplay()">
                <h6 class="p-1 fs-6">Filters</h6>
    </button>
    <form id="filters" action="" method="get" class="hidden">

        <div class="d-flex flex-column w-25">
        <label for="title" class="form-label m-1" >Title</label>
        <input class="w-10"id="title" name="title" type="text">
        <label for="author" class="form-label m-1" >Author</label>
        <input class="w-10"id="author" name="author" type="text">
        <label for="language" class="form-label m-1" >Language</label>
        <input class="w-10"id="language" name="language" type="text">
        <label for="from" class="form-label m-1" >Published from</label>
        <input class="w-10"id="from" name="from" type="text" placeholder="YYYY-MM-DD">
        <label for="to" class="form-label m-1" >Published to</label>
        <input class="w-10 h-10"id="to" name="to" type="text" placeholder="YYYY-MM-DD">
        <input class="btn btn-primary mt-2 mb-2 w-25" type="submit" value="Submit">
        </div>
    </form>
    <table class="table table-striped table-hover">
        <tr>
            {% for header in ['Title', 'Author', 'Publication date', 'ISBN', 'Pages count','Link', 'Language', "Actions"] %}
                <th class="text-center">{{ header }}</th>
            {% endfor %}
        </tr>

        {% for data in books %}
            <tr>
                <td>{{ data.title }}</td>
                <td>{{ data.author }}</td>
                <td>{{ data.publication_date }}</td>
                <td>{{ data.isbn}}</td>
                <td>{{ data.pages_count }}</td>
                <td>{{ data.language }}</td>
                <td style="height:100px; width:100px;"><a
                        href="{{ data.link_to_cover_page }}">
                        <img src="{{ data.link_to_cover_page }}" alt="cover page">
                </a></td>
                <td><a href="{{ url_for('view_edit_entry', id=data.id) }}">Edit</a></td>
            </tr>
        {% endfor %}
    </table>
    <div class="p-2">

        <a href="{{ url_for('add_entry_form') }}" class="btn-sm btn-primary m-1 text-decoration-none" onclick="toggleAddEntryDisplay()">
        Add entry
        </a>

        <a href="{{ url_for('books_api_import_view') }}" class="btn-sm btn-primary mb-2 ml-2 text-decoration-none" onclick="toggleAddEntryDisplay()">
            Import books
        </a>

    </div>

{% endblock %}
